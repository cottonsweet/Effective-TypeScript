# number 인덱스 시그니처보다는 Array, 튜플, ArrayLike를 사용하기

자바스크립트에는 암시적 타입 강제가 발생한다.
</br>
단 대부분의 문제는 ===, !== 로 해결이 가능하다.

자바스크립트에서의 객체는 키/값 쌍의 모음이며, 키는 보통 문자열이다.

```js
x = {};
x[[1, 2, 3]] = 2;
x;
// { '1, 2, 3' : 2}
```

다만 키는 숫자로 사용할 수 없다, 숫자로 사용할 경우 자바스크립트 런타임에서
</br>
문자열로 변환되어 출력된다.

```js
{1: 2, 3: 4}
// {'1': 2, '3': 4}
```

이러한 특성은 배열에서도 나타난다.

```js
x = [1, 2, 3];
x[0];
// 1

x["1"];
// 2;
```

---

## 인덱스에 신경쓰지 않는다면 ? for-of

```js
for (const x of xs) {
  x;
}
```

---

## 인덱스의 타입이 중요하다면 ? forEach

```js
xs.forEach((x, i) => x, i);
```

---

# 루프 중간에 멈춰야 한다면 ? for문

```js
for (let i = 0; i < xs.length; i++) {
  const x = xs[i];
  if (x < 0) break;
}
```

---

# 어떤 길이를 가지는 배열과 비슷한 형태의 튜플을 사용하고 싶다?

이럴땐 타입스크립트에 있는 "ArrayLike" 타입을 사용해야 한다.

```ts
function checkedAccess<T>(xs: ArrayLike<T>, i: number): T {
  if (i < xs.length) {
    return xs[i];
  }
  throw new Error(i);
}
```

- 배열은 객체이므로 숫자가 아니라 문자열이다.
- 인덱스 시그니처로 사용된 number 타입은 버그를 잡기 위한 순수 타입스크립트 코드다.
- 인덱스 시그니처에 number를 사용하기보다 Array나 튜플, 또는 ArrayLike 타입을 사용하는 것이 좋다.
